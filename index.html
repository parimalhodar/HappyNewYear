<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Diwali Wishes</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #1a0033 0%, #2d0052 50%, #4a0080 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            position: relative;
        }

        .fireworks-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .container {
            position: relative;
            z-index: 2;
            text-align: center;
            padding: 20px;
            max-width: 600px;
            width: 90%;
        }

        .diya-container {
            margin-bottom: 30px;
            animation: float 3s ease-in-out infinite;
        }

        .diya {
            font-size: 80px;
            filter: drop-shadow(0 0 20px #ffa500);
            animation: flicker 2s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-15px); }
        }

        @keyframes flicker {
            0%, 100% { opacity: 1; filter: drop-shadow(0 0 20px #ffa500); }
            50% { opacity: 0.8; filter: drop-shadow(0 0 30px #ff8c00); }
        }

        .greeting-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 40px 30px;
            box-shadow: 0 8px 32px rgba(255, 165, 0, 0.3);
            border: 2px solid rgba(255, 165, 0, 0.3);
            animation: slideIn 1s ease-out;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .title {
            font-family: 'Playfair Display', serif;
            font-size: 48px;
            color: #ffd700;
            margin-bottom: 15px;
            text-shadow: 0 0 20px rgba(255, 215, 0, 0.8);
            animation: glow 2s ease-in-out infinite;
        }

        @keyframes glow {
            0%, 100% { text-shadow: 0 0 20px rgba(255, 215, 0, 0.8); }
            50% { text-shadow: 0 0 30px rgba(255, 215, 0, 1); }
        }

        .subtitle {
            font-size: 20px;
            color: #fff;
            margin-bottom: 25px;
            font-weight: 300;
        }

        .message {
            font-size: 16px;
            color: #ffe4b5;
            line-height: 1.8;
            margin-bottom: 25px;
        }

        .sender-name {
            font-size: 24px;
            color: #ffb347;
            font-weight: 600;
            margin-top: 20px;
            text-shadow: 0 0 10px rgba(255, 179, 71, 0.5);
        }

        .share-btn {
            background: linear-gradient(135deg, #25D366 0%, #128C7E 100%);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 18px;
            border-radius: 50px;
            cursor: pointer;
            margin-top: 25px;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(37, 211, 102, 0.4);
            font-family: 'Poppins', sans-serif;
            font-weight: 600;
        }

        .share-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(37, 211, 102, 0.6);
        }

        .share-btn:active {
            transform: translateY(-1px);
        }

        .whatsapp-icon {
            font-size: 24px;
        }

        .decorative-dots {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 20px 0;
        }

        .dot {
            width: 8px;
            height: 8px;
            background: #ffd700;
            border-radius: 50%;
            animation: pulse 1.5s ease-in-out infinite;
        }

        .dot:nth-child(2) { animation-delay: 0.2s; }
        .dot:nth-child(3) { animation-delay: 0.4s; }

        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.5); opacity: 0.7; }
        }

        .sparkles {
            position: absolute;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }

        @media (max-width: 600px) {
            .title { font-size: 36px; }
            .subtitle { font-size: 18px; }
            .message { font-size: 14px; }
            .sender-name { font-size: 20px; }
            .greeting-card { padding: 30px 20px; }
        }

        .name-input-container {
            margin-top: 20px;
            display: none;
        }

        .name-input {
            background: rgba(255, 255, 255, 0.2);
            border: 2px solid rgba(255, 215, 0, 0.5);
            border-radius: 10px;
            padding: 12px 20px;
            color: white;
            font-size: 16px;
            width: 100%;
            max-width: 300px;
            margin: 10px auto;
            text-align: center;
            font-family: 'Poppins', sans-serif;
        }

        .name-input::placeholder {
            color: rgba(255, 255, 255, 0.6);
        }

        .name-input:focus {
            outline: none;
            border-color: #ffd700;
            box-shadow: 0 0 15px rgba(255, 215, 0, 0.5);
        }

        .create-btn {
            background: linear-gradient(135deg, #ffd700 0%, #ffb347 100%);
            color: #2d0052;
            border: none;
            padding: 12px 35px;
            font-size: 16px;
            border-radius: 50px;
            cursor: pointer;
            margin-top: 15px;
            transition: all 0.3s ease;
            font-weight: 600;
            box-shadow: 0 5px 15px rgba(255, 215, 0, 0.4);
        }

        .create-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(255, 215, 0, 0.6);
        }
    </style>
</head>
<body>
    <canvas class="fireworks-canvas" id="fireworks"></canvas>
    
    <div class="container">
        <div class="diya-container">
            <div class="diya">ðŸª”</div>
        </div>

        <div class="greeting-card">
            <h1 class="title">Happy Diwali!</h1>
            
            <div class="decorative-dots">
                <div class="dot"></div>
                <div class="dot"></div>
                <div class="dot"></div>
            </div>

            <p class="subtitle">âœ¨ Festival of Lights âœ¨</p>
            
            <p class="message">
                May this Diwali bring joy, prosperity, and happiness to your life. 
                May the divine light of diyas brighten your days and illuminate your path to success.
                Wishing you and your family a blessed and prosperous Diwali! ðŸŽ†
            </p>

            <div class="decorative-dots">
                <div class="dot"></div>
                <div class="dot"></div>
                <div class="dot"></div>
            </div>

            <div id="senderDisplay">
                <p class="sender-name">~ <span id="senderName">Your Friend</span> ðŸ’«</p>
            </div>

            <div class="name-input-container" id="nameInputContainer">
                <input type="text" class="name-input" id="nameInput" placeholder="Enter your name">
                <br>
                <button class="create-btn" onclick="createPersonalizedLink()">Create My Wish</button>
            </div>

            <button class="share-btn" onclick="shareOnWhatsApp()">
                <span class="whatsapp-icon">ðŸ“±</span>
                Share on WhatsApp
            </button>
        </div>
    </div>

    <script>
        // Get sender name from URL
        function getSenderName() {
            const urlParams = new URLSearchParams(window.location.search);
            const name = urlParams.get('from');
            return name ? decodeURIComponent(name) : null;
        }

        // Initialize page
        function initializePage() {
            const senderName = getSenderName();
            if (senderName) {
                document.getElementById('senderName').textContent = senderName;
                document.getElementById('senderDisplay').style.display = 'block';
                document.getElementById('nameInputContainer').style.display = 'none';
            } else {
                document.getElementById('senderDisplay').style.display = 'none';
                document.getElementById('nameInputContainer').style.display = 'block';
            }
        }

        // Create personalized link
        function createPersonalizedLink() {
            const name = document.getElementById('nameInput').value.trim();
            if (name) {
                const baseUrl = window.location.origin + window.location.pathname;
                const personalizedUrl = `${baseUrl}?from=${encodeURIComponent(name)}`;
                window.location.href = personalizedUrl;
            } else {
                alert('Please enter your name!');
            }
        }

        // Share on WhatsApp
        function shareOnWhatsApp() {
            const senderName = getSenderName();
            let message, url;
            
            if (senderName) {
                // If viewing someone's wish, share it
                message = `ðŸª” *Happy Diwali!* ðŸŽ†\n\n${senderName} has sent you beautiful Diwali wishes! âœ¨\n\nView the animated greeting card here:\n`;
                url = window.location.href;
            } else {
                // If no name, prompt to create personalized wish
                const name = document.getElementById('nameInput').value.trim();
                if (!name) {
                    alert('Please enter your name first to create a personalized wish!');
                    return;
                }
                const baseUrl = window.location.origin + window.location.pathname;
                url = `${baseUrl}?from=${encodeURIComponent(name)}`;
                message = `ðŸª” *Happy Diwali!* ðŸŽ†\n\nI've created a special Diwali wish for you! âœ¨\n\nView the animated greeting card here:\n`;
            }
            
            const whatsappUrl = `https://wa.me/?text=${encodeURIComponent(message + url)}`;
            window.open(whatsappUrl, '_blank');
        }

        // Fireworks Animation
        const canvas = document.getElementById('fireworks');
        const ctx = canvas.getContext('2d');
        
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        window.addEventListener('resize', () => {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        });

        class Particle {
            constructor(x, y, color) {
                this.x = x;
                this.y = y;
                this.color = color;
                this.velocity = {
                    x: (Math.random() - 0.5) * 8,
                    y: (Math.random() - 0.5) * 8
                };
                this.alpha = 1;
                this.decay = Math.random() * 0.02 + 0.01;
            }

            draw() {
                ctx.save();
                ctx.globalAlpha = this.alpha;
                ctx.fillStyle = this.color;
                ctx.beginPath();
                ctx.arc(this.x, this.y, 2, 0, Math.PI * 2);
                ctx.fill();
                ctx.restore();
            }

            update() {
                this.velocity.y += 0.1;
                this.x += this.velocity.x;
                this.y += this.velocity.y;
                this.alpha -= this.decay;
            }
        }

        let particles = [];
        const colors = ['#ffd700', '#ffb347', '#ff6347', '#ff1493', '#00ffff', '#00ff00'];

        function createFirework() {
            const x = Math.random() * canvas.width;
            const y = Math.random() * canvas.height * 0.6;
            const color = colors[Math.floor(Math.random() * colors.length)];
            
            for (let i = 0; i < 30; i++) {
                particles.push(new Particle(x, y, color));
            }
        }

        function animate() {
            ctx.fillStyle = 'rgba(26, 0, 51, 0.1)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            particles.forEach((particle, index) => {
                if (particle.alpha <= 0) {
                    particles.splice(index, 1);
                } else {
                    particle.update();
                    particle.draw();
                }
            });

            requestAnimationFrame(animate);
        }

        // Create fireworks periodically
        setInterval(createFirework, 800);
        animate();

        // Initialize page on load
        initializePage();
    </script>
</body>
</html>
